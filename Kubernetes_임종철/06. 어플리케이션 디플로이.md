# 06. 어플리케이션 디플로이

### 샘플 어플리케이션 다운로드
```zsh
$ git clone https://github.com/ToruMakabe/Understanding-K8s
$ cd Understanding-K8s/chap06
```

---
## 6.1 디플로이먼트를 사용한 어플리케이션 디플로이


---
#### 1. 어플리케이션의 버전업 개념
* 작은 단위로 어플리케이셩 추가 기능을 넣거나 수정하여 짧은 기간에 릴리스하는 방법을 사용
	- 버전업에는 위험이 따름(오류 및 서비스 장애)
	- 안전한 어플리케이션을 가능한 신속하게 디플로이할 수 잇는 구조가 중요

* 디플로이하는 방법

##### 롤링 업데이트
* 한꺼번에 변경하는 것이 아닌, 조금씩 순서대로 갱신하는 방법(어플리케이션 버전을 조금씩 교체)
	- 신구 어플리케이션이 동시에 혼재하게 됨
	- 어플리케이션이 롤링 업데이트를 지원해야함

##### 불루/그린 업데이트
* 버전이 다른 두 어플리케이션을 동시에 가동시켜 두고 네트워크 설정을 이용하여 변경
	- 블루(구)와 그린(신)을 전환
	- 대기 머신인 그린 쪽에서 사전 테스트, 테스트 통과 후 서비스 전환
	- 장애 발생신 블루(구)로 바로 되돌릴 수 있음

##### 카나리아 릴리스(Canary Release)
* 일부 이용자에게만 새 기능을 제공하여 문제 확인 후, 모든 사용자에게 대규모 전개

Ex)   
```bash

```

Ex)   
```bash

```

---
#### 2. 디플로이먼트

Ex)   
```bash

```

Ex)   
```bash

```

---
#### 3. 매니페스트 파일

Ex)   
```bash

```

Ex)   
```bash

```

---
#### 디플로이먼트 작성, 변경, 삭제

---
## 6.2 디플로이먼트의 구조

---
#### 1. 업데이트 처리 방식

Ex)   
```bash

```

Ex)   
```bash

```

---
#### 2. 롤아웃

Ex)   
```zsh

```

Ex)   
```zsh

```
---
#### 3. 롤백

---
#### 4. 롤아웃 조건

---
#### 5. 롤링 업데이트 제어

---
#### 6. 블루/그린 디플로이먼트


---
## 6.3 어플리케이션의 설정 정보를 관리하자

---
#### 1. 어플리케이셔의 설정 정보 관리

---
#### 2. ConfigMap 값 참조

---
#### 3. 비밀번호와 키 관리

---
#### 4. Secrets 값 참조

Ex)   
```zsh

```

Ex)   
```zsh

```

---
## 6.4 정리


---
 [^출처]